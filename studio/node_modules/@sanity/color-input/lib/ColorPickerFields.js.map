{"version":3,"file":"ColorPickerFields.js","names":["ColorPickerFields","onChange","rgb","hsl","hex","disableAlpha","useTheme","sanity","inputStyles","input","width","padding","border","boxShadow","color","default","enabled","fg","backgroundColor","bg","fontSize","fonts","text","sizes","textAlign","label","display","base","paddingTop","paddingBottom","textTransform","handleChange","data","e","isValidHex","source","r","g","b","a","h","s","l","replace","Math","round"],"sources":["../src/ColorPickerFields.js"],"sourcesContent":["import React from 'react'\nimport * as color from 'react-color/lib/helpers/color'\nimport {EditableInput} from 'react-color/lib/components/common'\nimport {Box, Flex, useTheme} from '@sanity/ui'\n\nexport const ColorPickerFields = ({onChange, rgb, hsl, hex, disableAlpha}) => {\n  const {sanity} = useTheme()\n\n  const inputStyles = {\n    input: {\n      width: '80%',\n      padding: '4px 10% 3px',\n      border: 'none',\n      boxShadow: `inset 0 0 0 1px ${sanity.color.input.default.enabled.border}`,\n      color: sanity.color.input.default.enabled.fg,\n      backgroundColor: sanity.color.input.default.enabled.bg,\n      fontSize: sanity.fonts.text.sizes[0].fontSize,\n      textAlign: 'center',\n    },\n    label: {\n      display: 'block',\n      textAlign: 'center',\n      fontSize: sanity.fonts.label.sizes[0].fontSize,\n      color: sanity.color.base.fg,\n      paddingTop: '3px',\n      paddingBottom: '4px',\n      textTransform: 'capitalize',\n    },\n  }\n\n  const handleChange = (data, e) => {\n    if (data.hex && color.isValidHex(data.hex)) {\n      onChange(\n        {\n          hex: data.hex,\n          source: 'hex',\n        },\n        e\n      )\n    } else if (data.r || data.g || data.b) {\n      onChange(\n        {\n          r: data.r || rgb.r,\n          g: data.g || rgb.g,\n          b: data.b || rgb.b,\n          a: rgb.a,\n          source: 'rgb',\n        },\n        e\n      )\n    } else if (data.a) {\n      if (data.a < 0) {\n        data.a = 0\n      } else if (data.a > 100) {\n        data.a = 100\n      }\n\n      data.a /= 100\n      onChange(\n        {\n          h: hsl.h,\n          s: hsl.s,\n          l: hsl.l,\n          a: data.a,\n          source: 'rgb',\n        },\n        e\n      )\n    }\n  }\n\n  return (\n    <Flex>\n      <Box flex={2} marginRight={1}>\n        <EditableInput\n          style={inputStyles}\n          label=\"hex\"\n          value={hex.replace('#', '')}\n          onChange={handleChange}\n        />\n      </Box>\n      <Box flex={1} marginRight={1}>\n        <EditableInput\n          style={inputStyles}\n          label=\"r\"\n          value={rgb.r}\n          onChange={handleChange}\n          dragLabel=\"true\"\n          dragMax=\"255\"\n        />\n      </Box>\n      <Box flex={1} marginRight={1}>\n        <EditableInput\n          style={inputStyles}\n          label=\"g\"\n          value={rgb.g}\n          onChange={handleChange}\n          dragLabel=\"true\"\n          dragMax=\"255\"\n        />\n      </Box>\n      <Box flex={1} marginRight={1}>\n        <EditableInput\n          style={inputStyles}\n          label=\"b\"\n          value={rgb.b}\n          onChange={handleChange}\n          dragLabel=\"true\"\n          dragMax=\"255\"\n        />\n      </Box>\n      {!disableAlpha && (\n        <Box flex={1}>\n          <EditableInput\n            style={inputStyles}\n            label=\"a\"\n            value={Math.round(rgb.a * 100)}\n            onChange={handleChange}\n            dragLabel=\"true\"\n            dragMax=\"100\"\n          />\n        </Box>\n      )}\n    </Flex>\n  )\n}\n\nexport default ColorPickerFields\n"],"mappings":"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"}