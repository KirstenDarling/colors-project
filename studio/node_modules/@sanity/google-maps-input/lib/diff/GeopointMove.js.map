{"version":3,"file":"GeopointMove.js","names":["GeopointMove","diff","api","map","label","from","fromValue","to","toValue","annotation","isChanged","undefined","userColor","useUserColor","author","fromRef","React","useRef","toRef"],"sources":["../../src/diff/GeopointMove.tsx"],"sourcesContent":["import * as React from 'react'\nimport {useUserColor} from '@sanity/base/user-color'\nimport {ObjectDiff} from '@sanity/field/diff'\nimport {Marker} from '../map/Marker'\nimport {Arrow} from '../map/Arrow'\nimport {Geopoint} from '../types'\n\ninterface Props {\n  api: typeof window.google.maps\n  map: google.maps.Map\n  diff: ObjectDiff<Geopoint>\n  label?: string\n}\n\nexport function GeopointMove({diff, api, map, label}: Props) {\n  const {fromValue: from, toValue: to} = diff\n  const annotation = diff.isChanged ? diff.annotation : undefined\n  const userColor = useUserColor(annotation ? annotation.author : null) || undefined\n  const fromRef = React.useRef<google.maps.Marker>()\n  const toRef = React.useRef<google.maps.Marker>()\n\n  return (\n    <>\n      {from && (\n        <Marker\n          api={api}\n          map={map}\n          position={from}\n          zIndex={0}\n          opacity={0.55}\n          markerRef={fromRef}\n          color={userColor}\n        />\n      )}\n      {from && to && <Arrow api={api} map={map} from={from} to={to} zIndex={1} color={userColor} />}\n      {to && (\n        <Marker\n          api={api}\n          map={map}\n          position={to}\n          zIndex={2}\n          markerRef={toRef}\n          label={label}\n          color={userColor}\n        />\n      )}\n    </>\n  )\n}\n"],"mappings":";;;;;;AAAA;AACA;AAEA;AACA;AAAkC;AAAA;AAU3B,SAASA,YAAY,OAAiC;EAAA,IAA/BC,IAAI,QAAJA,IAAI;IAAEC,GAAG,QAAHA,GAAG;IAAEC,GAAG,QAAHA,GAAG;IAAEC,KAAK,QAALA,KAAK;EACjD,IAAkBC,IAAI,GAAiBJ,IAAI,CAApCK,SAAS;IAAiBC,EAAE,GAAIN,IAAI,CAAnBO,OAAO;EAC/B,IAAMC,UAAU,GAAGR,IAAI,CAACS,SAAS,GAAGT,IAAI,CAACQ,UAAU,GAAGE,SAAS;EAC/D,IAAMC,SAAS,GAAG,IAAAC,uBAAY,EAACJ,UAAU,GAAGA,UAAU,CAACK,MAAM,GAAG,IAAI,CAAC,IAAIH,SAAS;EAClF,IAAMI,OAAO,GAAGC,KAAK,CAACC,MAAM,EAAsB;EAClD,IAAMC,KAAK,GAAGF,KAAK,CAACC,MAAM,EAAsB;EAEhD,oBACE,0CACGZ,IAAI,iBACH,oBAAC,cAAM;IACL,GAAG,EAAEH,GAAI;IACT,GAAG,EAAEC,GAAI;IACT,QAAQ,EAAEE,IAAK;IACf,MAAM,EAAE,CAAE;IACV,OAAO,EAAE,IAAK;IACd,SAAS,EAAEU,OAAQ;IACnB,KAAK,EAAEH;EAAU,EAEpB,EACAP,IAAI,IAAIE,EAAE,iBAAI,oBAAC,YAAK;IAAC,GAAG,EAAEL,GAAI;IAAC,GAAG,EAAEC,GAAI;IAAC,IAAI,EAAEE,IAAK;IAAC,EAAE,EAAEE,EAAG;IAAC,MAAM,EAAE,CAAE;IAAC,KAAK,EAAEK;EAAU,EAAG,EAC5FL,EAAE,iBACD,oBAAC,cAAM;IACL,GAAG,EAAEL,GAAI;IACT,GAAG,EAAEC,GAAI;IACT,QAAQ,EAAEI,EAAG;IACb,MAAM,EAAE,CAAE;IACV,SAAS,EAAEW,KAAM;IACjB,KAAK,EAAEd,KAAM;IACb,KAAK,EAAEQ;EAAU,EAEpB,CACA;AAEP"}